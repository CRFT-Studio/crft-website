---
export const prerender = false;

import Navigation from "../components/Navigation.astro";
import Footer from "../components/Footer.astro";

import Stripe from "stripe";
const stripe = new Stripe("redacted");
const session = await stripe.checkout.sessions.create({
    line_items: [
        {
            price_data: {
                currency: "usd",
                product_data: {
                    name: "T-shirt",
                },
                unit_amount: 2000,
            },
            quantity: 2,
        },
    ],
    mode: "payment",
    ui_mode: "embedded",
    return_url:
        "https://crft-website.pages.dev/thank-you?session_id={CHECKOUT_SESSION_ID}",
});
---

<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="description" content="Astro description" />
        <meta name="viewport" content="width=device-width" />
        <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
        <meta name="generator" content={Astro.generator} />
        <title>Checkout</title>
    </head>
    <body>
        <Navigation />
        <section>
            <div class="container">
                <div class="bg-[red] min-h-[25rem]"></div>
            </div>
        </section>
        <Footer />
    </body>
</html>
